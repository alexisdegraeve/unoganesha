<uno-header></uno-header>
<div class="container-fluid pb-5">
    <a type="button " class="btn btn-primary mx-2 " (click)="startGame() "> <i class="fas fa-play me-2 icon-size" *ngIf="!this.isStartGame"></i> PLAY</a>

    <div class="notification" *ngIf="this.isStartGame">
        <div class="alert alert-success" role="alert" *ngIf="player1.length === 0">
            Well done! You win :)
        </div>
        <div class="alert alert-danger" role="alert" *ngIf="player2.length === 0">
            Sorry you lose :(
        </div>
    </div>
    <div class="row mt-4" *ngIf="this.isStartGame">
        <div class="col-12 col-lg-auto">
            <div class="Talon">
                <div>
                    <h5 class="card-title text-white">Talon</h5>
                    <div class="ms-auto " [class.uno-color-yellow]="selectColor==colorUno.Yellow " [class.uno-color-red]="selectColor==colorUno.Red " [class.uno-color-blue]="selectColor==colorUno.Blue " [class.uno-color-green]="selectColor==colorUno.Green ">
                    </div>
                </div>
                <div>
                    <ng-container *ngIf="lastCardTalon() ">
                        <uno-playcard [colorUnoSelect]="selectColor " [card]="lastCardTalon() " (backSideEvent)="backSideTalonEvent($event) " [showBackSide]="showback " (click)="pickCard() "></uno-playcard>
                    </ng-container>
                    <div class="mx-4 " *ngIf="showPickColor ">

                        <uno-pickcolor (colorChoose)="colorChoose($event) " [showPicker]="showPickColor "></uno-pickcolor>
                    </div>
                </div>

            </div>

            <div class="d-flex flex-column mt-4 computer" [class.computer-selected]="!realplayer">
                <div class="d-flex">
                    <div class="uno-avatar "><i class="fa fa-user-astronaut "></i></div>
                    <h5 class="ms-4 card-title text-white">Computer</h5>
                </div>
                <div *ngIf="!realplayer">I'm playing...</div>
                <div *ngIf="player2.length == 2">UNO !</div>
                <div class="ms-auto uno-score "> Score : {{score_player2}}</div>

            </div>

        </div>
        <div class="col-12 col-lg-auto">
            <div class="card" [class.uno-shadow-select]="realplayer" [class.human-selected]="realplayer" [class.human-disabled]="!realplayer">
                <div class="card-header border-0  d-flex align-items-center">
                    <div class="uno-avatar"><i class="fa fa-grin-alt"></i></div>
                    <h5 class="ms-4 card-title  text-primary">Human</h5>
                    <div class="ms-auto uno-score"> Score : {{score_player1}}</div>
                </div>
                <div class="card-body  p-0">
                    <p>Ready Player One ?</p>
                    <div class="uno-grid">
                        <ng-container *ngFor="let card of player1; let i = index">
                            <div [class.neon-border]="checkSelectCard(i)" (click)="selectCardPlayer1Index(i)">
                                <uno-playcard [showBackSide]="false" [colorUnoSelect]="selectColor" [card]="card" (putCardEvent)="putCardPlayer1Event($event)">
                                </uno-playcard>
                            </div>
                        </ng-container>
                    </div>
                </div>
                <div class="card-footer border-0 bg-transparent d-flex align-items-center ">
                    <a type="button " class="btn btn-outline-warning " (click)="sayUno() " *ngIf="player1.length==2 "> UNO</a>
                    <a type="button " class="btn btn-outline-success " (click)="passCardFromHuman() "> PASS</a>
                    <button class="btn btn-primary pick-btn " (click)="selectPickCard()" [disabled]="!isSelectedCard">
                    <i class="fas fa-hand-pointer "></i> Play this card
                  </button>
                    <div *ngIf="wrongCard">
                        Can not be playable !
                    </div>
                </div>
            </div>



        </div>

    </div>

    <p class="text-white">
        PLAYER 1 : {{ player1 | json}} {{ player1.length}}
    </p>
    <p class="text-white">
        PLAYER 2 : {{ player2 | json}} {{ player2.length}}
    </p>
</div>

<uno-footer></uno-footer>
